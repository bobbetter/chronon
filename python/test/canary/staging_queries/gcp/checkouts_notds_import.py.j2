from gen_thrift.common.ttypes import ConfigProperties

from ai.chronon.staging_query import EngineType, StagingQuery, TableDependency

v1 = StagingQuery(
    query="SELECT * FROM data.checkouts_notds WHERE notds BETWEEN {% raw %}{{ start_date }}{% endraw %} AND {% raw %}{{ end_date }}{% endraw %}",
    engine_type=EngineType.BIGQUERY,
    output_namespace="data",
    conf=ConfigProperties(common={"spark.chronon.partition.column": "notds"}),
    dependencies=[
        TableDependency(table="data.checkouts_notds", partition_column="notds", offset=0)
    ],
    version=0,
)
